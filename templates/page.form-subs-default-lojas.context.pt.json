/*
 * ------------------------------------------------------------
 * IMPORTANT: The contents of this file are auto-generated.
 *
 * This file may be updated by the Shopify admin theme editor
 * or related systems. Please exercise caution as any changes
 * made to this file may be overwritten.
 * ------------------------------------------------------------
 */
{
  "parent": "page.form-subs-default-lojas.json",
  "context": {
    "market": "pt"
  },
  "sections": {
    "custom_liquid_7ygMt6": {
      "settings": {
        "custom_liquid": "<style>\n    .breadcrumbs {\n        display: none;\n    }\n\n    #zyMember {\n        --primary-color: #221f20;\n        --accent-color: #FFBF00;\n        --error-color: #ed282d;\n        --background-color: #F2F0E9;\n        --white: #fff;\n        --border-color: #bcbcbc;\n        font-family: \"CentraNo1\", Assistant, sans-serif;\n    }\n\n    #zyMember .container-fluid {\n        max-width: 100%;\n        background-color: var(--background-color);\n    }\n\n    #zyMember .row {\n        width: 100%;\n        margin: auto;\n        padding: 5rem 0 3rem;\n        display: flex;\n        justify-content: space-around;\n        align-items: flex-start;\n    }\n\n    #zyMember .container-benefits,\n    #zyMember .container-form {\n        width: 40%;\n    }\n\n    #zyMember h1 {\n        font-weight: 500;\n        color: var(--primary-color);\n        font-size: 2rem;\n        line-height: 1.3;\n        margin: 0.5rem 0;\n    }\n\n    #zyMember h2 {\n        font-weight: 500;\n        color: var(--primary-color);\n        font-size: 1.125rem;\n        line-height: 1.3;\n        margin: 0.5rem 0 1rem -1rem;\n    }\n\n    #zyMember p {\n        font-weight: 400;\n        color: var(--primary-color);\n        font-size: 1rem;\n        line-height: 1.3;\n        margin: 0.5rem 0;\n    }\n\n    #zyMember p>span,\n    #zyMember li>span {\n        font-weight: 500;\n    }\n\n    #zyMember li>span {\n        padding-left: 0.2rem;\n    }\n\n    #zyMember .benefits-list {\n        background-color: var(--white);\n        padding: 2rem 1rem;\n        margin-top: 1.5rem;\n    }\n\n    #zyMember .all-benefits {\n        width: 80%;\n        margin: auto;\n    }\n\n    #zyMember ul {\n        list-style-type: none;\n    }\n\n    #zyMember ul>li:before {\n        content: \"—\";\n        margin-left: -15px;\n        font-weight: 400;\n    }\n\n    #zyMember .lista {\n        margin-left: -1rem;\n        padding-top: 1rem;\n        font-size: 0.875rem;\n    }\n\n    #zyMember .info {\n        font-size: 0.75rem;\n        margin-left: -1rem;\n        line-height: 1.4;\n        padding-top: 0.5rem;\n    }\n\n    #zyMember .info-birthlist {\n        font-size: 0.75rem;\n        margin-left: -8px;\n        line-height: 1.4;\n    }\n\n    #zyMember li {\n        font-weight: 400;\n        color: var(--primary-color);\n        font-size: 0.875rem;\n        line-height: 1.4;\n        margin: 0.5rem 0;\n    }\n\n    #zyMember li.birthlist::after,\n    #zyMember .info-birthlist::before,\n    #zyMember .yellow-circle {\n        content: '';\n        display: inline-block;\n        width: 10px;\n        height: 10px;\n        background-color: var(--accent-color);\n        border-radius: 50%;\n        margin-left: 5px;\n        position: relative;\n        top: 1px;\n    }\n\n    #zyMember .info-birthlist::before {\n        margin-left: -8px;\n    }\n\n    #zyMember a {\n        color: var(--primary-color);\n        font-size: 0.75rem;\n        line-height: 1.3;\n        font-weight: 400;\n        padding: 0;\n        text-underline-offset: 0.2rem;\n    }\n\n    #zyMember .conditions a {\n        font-size: 0.875rem;\n    }\n\n    #zyMember .button {\n        margin: 1rem 0;\n        min-width: 15rem;\n        cursor: pointer;\n    }\n\n    #zyMember a:hover {\n        text-decoration: none;\n    }\n\n    #zyMember .conditions {\n        color: var(--primary-color);\n        font-size: 0.875rem;\n        line-height: 1.4;\n        font-weight: 400;\n    }\n\n    #zyMember .option {\n        color: var(--primary-color);\n        font-size: 0.875rem;\n        line-height: 1.3;\n        font-weight: 400;\n        padding: 0.5rem 0;\n    }\n\n    #zyMember .m-left {\n        margin-left: 0.2rem;\n        font-weight: 400;\n    }\n\n    #zyMember .option>span {\n        color: var(--error-color);\n        font-size: 0.875rem;\n    }\n\n    #zyMember input,\n    #zyMember select {\n        color: var(--primary-color);\n        background-color: var(--white);\n        border-radius: 0.2rem;\n        border: solid 0.071rem var(--border-color);\n        margin: 0.5rem 0;\n        font-family: inherit;\n        height: 40px;\n        padding: 0 0.5rem;\n    }\n\n    #zyMember input[type=text],\n    #zyMember input[type=email] {\n        width: 70%;\n    }\n\n    #zyMember input[type=tel] {\n        width: 50%;\n    }\n\n    #zyMember input[type=checkbox],\n    #zyMember input[type=radio] {\n        box-sizing: border-box;\n        width: 3%;\n        height: auto;\n        padding: 0;\n        margin: 0;\n        position: relative;\n        top: 0.1rem;\n    }\n\n    #zyMember input[type=date],\n    #zyMember select {\n        width: 90%;\n    }\n\n    #zyMember label {\n        margin-bottom: 0;\n    }\n\n    #extra-fields {\n        opacity: 0;\n        max-height: 0;\n        overflow: hidden;\n        transition: opacity 0.3s ease, max-height 0.3s ease, visibility 0s 0.3s;\n        display: grid;\n        grid-template-columns: repeat(2, 0.4fr);\n        grid-template-rows: repeat(2, 0.5fr);\n        visibility: hidden;\n    }\n\n    #extra-fields.show {\n        opacity: 1;\n        max-height: 500px;\n        visibility: visible;\n        transition: opacity 0.3s ease, max-height 0.3s ease;\n    }\n\n    #extra-fields .field-1 {\n        grid-area: 1 / 1 / 2 / 2;\n    }\n\n    #extra-fields .field-2 {\n        grid-area: 1 / 2 / 2 / 3;\n    }\n\n    #extra-fields .field-3 {\n        grid-area: 2 / 1 / 3 / 3;\n    }\n\n    .error-message {\n        color: var(--error-color);\n        font-size: 0.75rem !important;\n        display: block;\n        margin-top: 0.25rem;\n    }\n\n    input.error,\n    select.error {\n        border-color: var(--error-color) !important;\n    }\n\n    .birthlist-required-asterisk {\n        display: none;\n        color: var(--error-color);\n    }\n\n    #extra-fields.show .birthlist-required-asterisk {\n        display: inline;\n    }\n\n    @media only screen and (max-width: 991px) {\n        #zyMember .row {\n            padding: 1.5rem 0;\n            flex-direction: column;\n        }\n\n        #zyMember .container-benefits,\n        #zyMember .container-form,\n        #zyMember .all-benefits {\n            width: 90%;\n            margin: auto;\n        }\n\n        #zyMember .container-form {\n            padding-top: 1rem;\n        }\n\n        #zyMember .benefits-list {\n            padding: 1rem;\n            margin-top: 1rem;\n        }\n\n        #zyMember .lista,\n        #zyMember .info,\n        #zyMember ul>li:before,\n        #zyMember .info-birthlist {\n            margin-left: -0.8rem;\n        }\n\n        #zyMember .info-birthlist::before {\n            margin-left: 0;\n        }\n\n        #extra-fields {\n            grid-template-columns: 1fr;\n        }\n\n        #extra-fields .field-1,\n        #extra-fields .field-2,\n        #extra-fields .field-3 {\n            grid-area: unset;\n        }\n\n        #zyMember input[type=text],\n        #zyMember input[type=email] {\n            width: 90%;\n        }\n\n        #zyMember input[type=tel] {\n            width: 60%;\n        }\n\n        #zyMember input[type=checkbox],\n        #zyMember input[type=radio] {\n            width: 4%;\n        }\n    }\n</style>\n\n<div id=\"zyMember\">\n    <section class=\"container-fluid\">\n        <div class=\"row\">\n            <div class=\"container-benefits\">\n                <div class=\"benefits-title\">\n                    <h1>Junte-se à família Zippy!</h1>\n                    <p>Subscreva agora e tenha acesso às vantagens exclusivas reservadas para membros.</p>\n                </div>\n                <div class=\"benefits-list\">\n                    <div class=\"all-benefits\">\n                        <h2>Benefícios da subscrição:</h2>\n                        <ul>\n                            <li><span>10% de desconto imediato</span> na sua primeira compra online*</li>\n                            <li><span>Acesso antecipado</span> a campanhas e coleções especiais</li>\n                            <li><span>Recomendações personalizadas</span></li>\n                            <li class=\"birthlist\"><span>Acumulação de 10% do valor total</span> das suas compras durante\n                                1 ano</li>\n                            <li class=\"birthlist\"><span>Oferta do primeiro body</span> do seu bebé</li>\n                            <li class=\"birthlist\"><span>35% de desconto</span> na recolha de células estaminais com a\n                                BebéVida</li>\n                            <p class=\"info\">*Desconto válido para novos subscritores</p>\n                            <p class=\"info-birthlist\"><span class=\"m-left\">Benefícios exclusivos à subscrição de Lista\n                                    de Nascimento. <a href=\"/pages/programa-baby-zippy-lista-de-nascimento\"><u>Saber\n                                            mais</u></a></p>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n            <div class=\"container-form\" id=\"form1\">\n                <form action=\"https://api.ometria.com/forms/signup\" method=\"post\" id=\"zyFormStores\" novalidate>\n                    <input type=\"hidden\" name=\"__form_id\" value=\"956b5fa512a42f7b2b8f106c9624e020\">\n                    <input type=\"hidden\" name=\"email\" value=\"\" autocomplete=\"off\">\n                    <div style=\"display:none !important\">\n                        <input name=\"__email\" type=\"email\" value=\"\" autocomplete=\"off\">\n                    </div>\n                    <input name=\"@account\" type=\"hidden\" value=\"53c3508b1d7077f4\">\n                    <input name=\"@return_url\" type=\"hidden\"\n                        value=\"https://8467ba-4.myshopify.com/pt/pages/newsletter-success-stores\">\n                    <input name=\"@subscription_status\" type=\"hidden\" value=\"SUBSCRIBED\">\n                    <input name=\"@sms_optin_checkbox\" type=\"hidden\" value=\"true\">\n                    <input name=\"properties.signup_source\" type=\"hidden\" value=\"subscricao-lojas-zippy\">\n                    <input name=\"country_id\" type=\"hidden\" value=\"PT\">\n                    <input name=\"preferred_lang\" type=\"hidden\" value=\"pt-PT\">\n                    <input name=\"properties.birthlist_creationstoreid\" type=\"hidden\" id=\"birthlist_creationstoreid\"\n                        value=\"\">\n\n                    <div class=\"option\">\n                        <label for=\"subscriberstore\">Loja ZIPPY:</label> <span>*</span><br>\n                        <select name=\"properties.signup_store\" id=\"subscriberstore\" required>\n                            <option value=\"\" selected disabled>Selecionar loja</option>\n                            <option value=\"ZY Algarve Shopping\">ZY Algarve Shopping</option>\n                            <option value=\"ZY Allegro Alfragide\">ZY Alegro Alfragide</option>\n                            <option value=\"ZY Allegro Setúbal\">ZY Alegro Setúbal</option>\n                            <option value=\"ZY Alma Coimbra\">ZY Alma Coimbra</option>\n                            <option value=\"ZY Almada\">ZY Almada</option>\n                            <option value=\"ZY Antas\">ZY Antas</option>\n                            <option value=\"ZY Aqua Portimão\">ZY Aqua Portimão</option>\n                            <option value=\"ZY Arrábida\">ZY ArrábidaShopping</option>\n                            <option value=\"ZY Aveiro\">ZY Aveiro</option>\n                            <option value=\"ZY Barcelos\">ZY Barcelos</option>\n                            <option value=\"ZY Braga Nova Arcada\">ZY Braga Nova Arcada</option>\n                            <option value=\"ZY Braga Parque\">ZY Braga Parque</option>\n                            <option value=\"ZY Bragança\">ZY Bragança</option>\n                            <option value=\"ZY Cascais\">ZY Cascais</option>\n                            <option value=\"ZY Colombo\">ZY Colombo</option>\n                            <option value=\"ZY Covilhã\">ZY Covilhã</option>\n                            <option value=\"ZY Espaço Guimarães\">ZY Espaço Guimarães</option>\n                            <option value=\"ZY Évora\">ZY Évora</option>\n                            <option value=\"ZY Famalicão\">ZY Famalicão</option>\n                            <option value=\"ZY Ferrara Plaza\">ZY Ferrara Plaza</option>\n                            <option value=\"ZY Fórum Algarve\">ZY Forum Algarve</option>\n                            <option value=\"ZY Fórum Barreiro\">ZY Forum Barreiro</option>\n                            <option value=\"ZY Fórum Castelo Branco\">ZY Forum Castelo Branco</option>\n                            <option value=\"ZY Forum Coimbra\">ZY Forum Coimbra</option>\n                            <option value=\"ZY Fórum Montijo\">ZY Forum Montijo</option>\n                            <option value=\"ZY Fórum Sintra\">ZY Forum Sintra</option>\n                            <option value=\"ZY Freeport\">ZY Freeport</option>\n                            <option value=\"ZY Gaiashopping\">ZY GaiaShopping</option>\n                            <option value=\"ZY Glicinias\">ZY Glicínias</option>\n                            <option value=\"ZY La Vie Funchal\">ZY La Vie Funchal</option>\n                            <option value=\"ZY Loures Shopping\">ZY Loures Shopping</option>\n                            <option value=\"ZY Madeira Shopping\">ZY Madeira Shopping</option>\n                            <option value=\"ZY Mar Shopping\">ZY Mar Shopping Matosinhos</option>\n                            <option value=\"ZY Marshopping Algarve\">ZY Mar Shopping Algarve</option>\n                            <option value=\"ZY Norteshopping\">ZY NorteShopping</option>\n                            <option value=\"ZY Oeiras Parque\">ZY Oeiras Parque</option>\n                            <option value=\"ZY Palácio Gelo Viseu\">ZY Palácio Gelo Viseu</option>\n                            <option value=\"ZY Parque Nascente\">ZY Parque Nascente</option>\n                            <option value=\"ZY Povoa Varzim\">ZY Póvoa de Varzim</option>\n                            <option value=\"ZY Rio Sul\">ZY Rio Sul</option>\n                            <option value=\"ZY Santarém W\">ZY Santarém W</option>\n                            <option value=\"ZY São João Madeira\">ZY São João Madeira</option>\n                            <option value=\"ZY Spacio Olivais\">ZY Spacio Olivais</option>\n                            <option value=\"ZY Strada Outlet\">ZY Strada Outlet</option>\n                            <option value=\"ZY Tavira Gran Plaza\">ZY Tavira Gran Plaza</option>\n                            <option value=\"ZY Torres Novas\">ZY Torres Novas</option>\n                            <option value=\"ZY Torres Vedras\">ZY Torres Vedras</option>\n                            <option value=\"ZY Ubbo Amadora\">ZY Ubbo Amadora</option>\n                            <option value=\"ZY Valongo\">ZY Valongo</option>\n                            <option value=\"ZY Vasco Da Gama\">ZY Vasco Da Gama</option>\n                            <option value=\"ZY Viana Estação\">ZY Viana Estação</option>\n                            <option value=\"ZY Vila Do Conde Outlet\">ZY Vila do Conde Outlet</option>\n                            <option value=\"ZY Vila Real\">ZY Vila Real</option>\n                            <option value=\"ZY Vivaci Caldas\">ZY La Vie Caldas</option>\n                            <option value=\"ZY Vivaci Guarda\">ZY La Vie Guarda</option>\n                        </select>\n                    </div>\n\n                    <div class=\"option\">\n                        <label for=\"subscribername\">Nome:</label> <span>*</span><br>\n                        <input name=\"name\" id=\"subscribername\" type=\"text\" value=\"\" required>\n                    </div>\n\n                    <div class=\"option\">\n                        <label for=\"subscriberemail\">E-mail:</label> <span>*</span><br>\n                        <input name=\"ue\" id=\"subscriberemail\" type=\"email\" value=\"\" required>\n                    </div>\n\n                    <div class=\"option\">\n                        <label for=\"zysms\">Nº de Telemóvel:</label> <span>*</span><br>\n                        <input id=\"zysms\" name=\"phone_number\" type=\"tel\" value=\"\" required>\n                    </div>\n\n                    <div class=\"option\">\n                        <label class=\"d-inline-block\">\n                            <input name=\"properties.birthlist_signup_date\" type=\"checkbox\" value=\"true\" class=\"d-inline\"\n                                id=\"CurrentDate\">\n                            <span class=\"conditions d-inline\">Quero criar Lista de Nascimento</span>\n                            <div class=\"yellow-circle\"></div>\n                        </label>\n                    </div>\n\n                    <div id=\"extra-fields\">\n                        <div class=\"option field-1\">\n                            <label for=\"babygender\">Género do Bebé</label> <span\n                                class=\"birthlist-required-asterisk\">*</span><br>\n                            <select name=\"properties.gender_baby\" id=\"babygender\">\n                                <option selected disabled value=\"\">Escolha uma opção</option>\n                                <option value=\"Female\">Feminino</option>\n                                <option value=\"Male\">Masculino</option>\n                                <option value=\"Surprise\">Não sei / É surpresa!</option>\n                            </select>\n                        </div>\n\n                        <div class=\"option field-2\">\n                            <label for=\"estimateddate\">Data Prevista de Nascimento:</label> <span\n                                class=\"birthlist-required-asterisk\">*</span><br>\n                            <input name=\"properties.birthlist_estimatedbirthdate\" type=\"date\" value=\"\"\n                                id=\"estimateddate\">\n                        </div>\n\n                        <div class=\"option field-3\">\n                            <input name=\"properties.birthlist_regulation\" type=\"checkbox\" value=\"true\" class=\"d-inline\"\n                                id=\"birthlistregulation\">\n                            <label class=\"option d-inline\" for=\"birthlistregulation\">Li e aceito o <a\n                                    href=\"https://cdn.shopify.com/s/files/1/0795/2711/7127/files/Regulamento_Listas_de_Nascimento_V2.pdf?v=1728405049\"\n                                    target=\"_blank\"><u class=\"birthlist-conditions\">Regulamento da Lista de\n                                        Nascimento</u></a></label> <span class=\"birthlist-required-asterisk\">*</span>\n                        </div>\n                    </div>\n\n                    <div class=\"option\">\n                        <input name=\"sms_optin\" id=\"subscriberconditions\" type=\"checkbox\" value=\"true\" class=\"d-inline\"\n                            required>\n                        <label class=\"conditions d-inline\" for=\"subscriberconditions\"> Aceito receber comunicações\n                            comerciais da Zippy por e-mail e SMS e confirmo que li e compreendi a <a\n                                href=\"/policies/privacy-policy\" target=\"_blank\"><u>Política de\n                                    Privacidade</u></a>.</label> <span>*</span>\n                    </div>\n\n                    <input type=\"submit\" value=\"Enviar\" name=\"submit\" class=\"button\">\n                    <p class=\"info\"><span style=\"color: #ed282d;\">*</span> Campos de preenchimento obrigatório</p>\n                </form>\n            </div>\n        </div>\n    </section>\n</div>\n\n<script>\n    document.addEventListener(\"DOMContentLoaded\", function () {\n        const metaRobots = document.createElement('meta');\n        metaRobots.name = 'robots';\n        metaRobots.content = 'noindex';\n        document.head.appendChild(metaRobots);\n\n        window.formLocale = document.documentElement.lang || 'pt-PT';\n\n        const errorMessages = {\n            'pt-PT': {\n                subscribername: 'Por favor, insira o seu nome.',\n                subscriberemail: 'Por favor, insira o seu e-mail.',\n                zysms_empty: 'Por favor, insira o seu número de telemóvel.',\n                zysms_invalid: 'Por favor, insira um número de telemóvel válido (+3519XXXXXXXX).',\n                subscriberconditions: 'Por favor, aceite as condições para continuar.',\n                birthlistregulation: 'Por favor, aceite o regulamento.',\n                babygender: 'Por favor, selecione o género do bebé.',\n                estimateddate: 'Por favor, insira a data prevista de nascimento.',\n                subscriberstore: 'Por favor, selecione uma loja.',\n                defaultRequired: 'Campo obrigatório.',\n                invalidEmail: 'Por favor, insira um endereço de e-mail válido.'\n            }\n        };\n\n        function toggleBirthlistFields() {\n            const extraFields = document.getElementById('extra-fields');\n            const estimatedDate = document.getElementById('estimateddate');\n            const babyGender = document.getElementById('babygender');\n            const birthlistRegulation = document.getElementById('birthlistregulation');\n            const creationStoreIdField = document.getElementById('birthlist_creationstoreid');\n\n            if (!extraFields || !estimatedDate || !babyGender || !birthlistRegulation || !\n                creationStoreIdField) {\n                console.error(\"Um ou mais elementos da birthlist não foram encontrados no DOM.\");\n                return;\n            }\n\n            if (extraFields.classList.contains('show')) {\n                extraFields.classList.remove('show');\n                estimatedDate.removeAttribute('required');\n                babyGender.removeAttribute('required');\n                birthlistRegulation.removeAttribute('required');\n                creationStoreIdField.value = '';\n            } else {\n                extraFields.classList.add('show');\n                estimatedDate.setAttribute('required', 'true');\n                babyGender.setAttribute('required', 'true');\n                birthlistRegulation.setAttribute('required', 'true');\n                creationStoreIdField.value = '1919';\n            }\n        }\n\n        const birthlistCheckbox = document.getElementById('CurrentDate');\n        if (birthlistCheckbox) {\n            birthlistCheckbox.addEventListener('change', toggleBirthlistFields);\n        }\n\n        function isValidEmail(email) {\n            return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\n        }\n\n        function validateField(field) {\n            if (!field) return true;\n\n            const value = field.value.trim();\n            const isCheckbox = field.type === 'checkbox';\n            const isEmail = field.type === 'email';\n            const isSelect = field.tagName === 'SELECT';\n            const parent = field.closest('.option');\n            let errorMessageText = '';\n\n            const currentLocale = window.formLocale || 'pt-PT';\n            const messages = errorMessages[currentLocale] || errorMessages['pt-PT'];\n\n            field.classList.remove('error');\n            if (parent) {\n                const existingErrorMessage = parent.querySelector('.error-message');\n                if (existingErrorMessage) {\n                    existingErrorMessage.remove();\n                }\n                if (isCheckbox) {\n                    const label = parent.querySelector(`label[for=\"${field.id}\"]`) || field.closest('label');\n                    if (label) {\n                        const existingLabelError = label.querySelector('.error-message');\n                        if (existingLabelError) existingLabelError.remove();\n                    }\n                }\n            }\n\n            let fieldActuallyValidated = false;\n            let isFieldValid = true;\n\n            const extraFieldsContainer = document.getElementById('extra-fields');\n            const isInsideHiddenExtraFields = extraFieldsContainer &&\n                extraFieldsContainer.contains(field) &&\n                !extraFieldsContainer.classList.contains('show');\n\n            if (!isInsideHiddenExtraFields && field.hasAttribute('required')) {\n                fieldActuallyValidated = true;\n\n                if ((isCheckbox && !field.checked) ||\n                    (!isCheckbox && !isSelect && value === '') ||\n                    (isSelect && value === '')) {\n                    isFieldValid = false;\n                    errorMessageText = messages[field.id] || messages.defaultRequired;\n                } else if (isEmail && value !== '' && !isValidEmail(value)) {\n                    isFieldValid = false;\n                    errorMessageText = messages.invalidEmail;\n                } else if (field.id === 'zysms' && value !== '') {\n                    const numbersOnly = value.replace(/\\s/g, '');\n                    if (!/^\\+351\\d{9}$/.test(numbersOnly)) {\n                        isFieldValid = false;\n                        errorMessageText = messages.zysms_invalid;\n                    }\n                }\n            }\n\n            if (fieldActuallyValidated && !isFieldValid) {\n                field.classList.add('error');\n                if (errorMessageText && parent) {\n                    const error = document.createElement('span');\n                    error.classList.add('error-message');\n                    error.textContent = errorMessageText;\n\n                    if (isCheckbox) {\n                        const label = parent.querySelector(`label[for=\"${field.id}\"]`) || field.closest(\n                            'label');\n                        if (label && label.parentNode) {\n                            if (label.nextSibling) {\n                                label.parentNode.insertBefore(error, label.nextSibling);\n                            } else {\n                                label.parentNode.appendChild(error);\n                            }\n                        } else {\n                            parent.appendChild(error);\n                        }\n                    } else {\n                        parent.appendChild(error);\n                    }\n                }\n            }\n            return !fieldActuallyValidated || isFieldValid;\n        }\n\n        function setupFormValidation() {\n            const form = document.getElementById('zyFormStores');\n            if (!form) return;\n\n            const fieldsForValidation = form.querySelectorAll(\n                '#subscriberstore, #subscribername, #subscriberemail, #zysms, ' +\n                '#subscriberconditions, #babygender, #estimateddate, #birthlistregulation'\n            );\n\n            // Adiciona validação em tempo real para cada campo\n            fieldsForValidation.forEach(field => {\n                if (!field) return;\n\n                // Usa evento apropriado baseado no tipo de campo\n                const eventType = (field.tagName === 'SELECT' || field.type === 'checkbox' || field\n                        .type === 'date') ?\n                    'change' : 'input';\n\n                // Remove mensagens de erro quando o campo é alterado\n                field.addEventListener(eventType, () => {\n                    field.classList.remove('error');\n                    const parent = field.closest('.option');\n                    if (parent) {\n                        const errorMessage = parent.querySelector('.error-message');\n                        if (errorMessage) errorMessage.remove();\n                        if (field.type === 'checkbox') {\n                            const label = parent.querySelector(`label[for=\"${field.id}\"]`) ||\n                                field.closest('label');\n                            if (label) {\n                                const labelError = label.querySelector('.error-message');\n                                if (labelError) labelError.remove();\n                            }\n                        }\n                    }\n                });\n\n                // Valida ao perder o foco ou mudar\n                const blurOrChange = (field.tagName === 'SELECT' || field.type === 'checkbox' || field\n                        .type === 'date') ?\n                    'change' : 'blur';\n                field.addEventListener(blurOrChange, () => {\n                    if (field.hasAttribute('required')) {\n                        validateField(field);\n                    }\n                });\n            });\n\n            // Valida todo o formulário antes do envio\n            form.addEventListener('submit', function (e) {\n                let isValidOverall = true;\n                const currentRequiredFields = form.querySelectorAll(\n                    'input[required], select[required]');\n\n                currentRequiredFields.forEach(field => {\n                    if (!validateField(field)) {\n                        isValidOverall = false;\n                    }\n                });\n\n                if (!isValidOverall) {\n                    e.preventDefault();\n                }\n            });\n        }\n\n        // Inicializa validação do formulário\n        setupFormValidation();\n\n        // Carrega a biblioteca Cleave.js sob demanda\n        function loadCleaveJs() {\n            const cleaveScript = document.createElement('script');\n            cleaveScript.src = 'https://cdn.jsdelivr.net/npm/cleave.js@1.6.0';\n            document.head.appendChild(cleaveScript);\n\n            cleaveScript.onload = function () {\n                const phoneAddonScript = document.createElement('script');\n                phoneAddonScript.src =\n                    'https://cdn.jsdelivr.net/npm/cleave.js@1.6.0/dist/addons/cleave-phone.pt.js';\n                document.head.appendChild(phoneAddonScript);\n\n                phoneAddonScript.onload = initPhoneMask;\n            };\n        }\n\n        // Inicializa a máscara para o campo de telefone\n        function initPhoneMask() {\n            const phoneInput = document.getElementById('zysms');\n            if (phoneInput && window.Cleave) {\n                new Cleave(phoneInput, {\n                    phone: true,\n                    phoneRegionCode: 'PT',\n                    prefix: '+351',\n                    noImmediatePrefix: false\n                });\n            }\n        }\n\n        // Define a data atual no campo de data\n        function setCurrentDate() {\n            const today = new Date();\n            const day = String(today.getDate()).padStart(2, '0');\n            const month = String(today.getMonth() + 1).padStart(2, '0');\n            const year = today.getFullYear();\n            const formattedDate = `${year}-${month}-${day}`;\n\n            const currentDateInput = document.getElementById(\"CurrentDate\");\n            if (currentDateInput) {\n                currentDateInput.value = formattedDate;\n            }\n        }\n\n        // Carrega componentes necessários e inicializa o formulário\n        loadCleaveJs();\n        setCurrentDate();\n    });\n\n    // Função para submissão do formulário\n    function process(event) {\n        event.preventDefault();\n\n        const form = document.getElementById('zyFormStores');\n        let isValid = true;\n        const requiredFields = form.querySelectorAll('[required]');\n\n        requiredFields.forEach(field => {\n            if ((field.type === 'checkbox' && !field.checked) ||\n                (field.type !== 'checkbox' && !field.value.trim())) {\n                isValid = false;\n                field.classList.add('error');\n            }\n        });\n\n        if (isValid) {\n            form.submit();\n        }\n\n        return false;\n    }\n</script>",
        "padding_top": 0,
        "padding_bottom": 0
      },
      "blocks": {}
    }
  }
}
