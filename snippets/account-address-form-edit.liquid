<button
  class="button secondary ml-auto h-10 w-10 !p-0"
  type="button"
  id="EditFormButton_{{ address.id }}"
  aria-label="{{ 'customer.addresses.edit_address' | t }} {{ forloop.index }}"
  aria-controls="EditAddress_{{ address.id }}"
  aria-expanded="false"
  data-address-id="{{ address.id }}"
>
  {% render 'icon', icon: 'pencil' %}
</button>
<div class="popupscreen" id="EditAddress_{{ address.id }}">
  <div class="popupscreen-inner bg-white p-4 md:p-10">
    <h2 class="mb-5 font-medium">{{ 'customer.addresses.edit_address' | t }}</h2>
    {%- form 'customer_address', address -%}
      <div class="popupscreen-close absolute right-4 top-4 md:right-10 md:top-10">
        <button
          type="reset"
          class="secondary h-10 w-10 !p-0"
        >
          {% render 'icon', icon: 'cross' %}
        </button>
      </div>
      <div class="fields mb-5 grid grid-cols-1 gap-4 lg:grid-cols-2">
        <div class="col-span-full grid grid-cols-1 gap-4 lg:grid-cols-3">
          <div class="input-group">
            <input
              type="text"
              id="AddressFirstName_{{ form.id }}"
              class="peer"
              name="address[first_name]"
              value="{{ form.first_name }}"
              autocomplete="given-name"
              required
              placeholder=" "
            >
            <label for="AddressFirstName_{{ form.id }}">{{ 'customer.addresses.first_name' | t }}</label>
          </div>
          <div class="input-group">
            <input
              type="text"
              id="AddressLastName_{{ form.id }}"
              class="peer"
              name="address[last_name]"
              value="{{ form.last_name }}"
              autocomplete="family-name"
              required
              placeholder=" "
            >
            <label for="AddressLastName_{{ form.id }}">{{ 'customer.addresses.last_name' | t }}</label>
          </div>
          <div class="input-group">
            <input
              type="text"
              id="AddressCompany_{{ form.id }}"
              class="peer"
              name="address[company]"
              value="{{ form.company }}"
              autocomplete="organization"
              placeholder=" "
            >
            <label for="AddressCompany_{{ form.id }}">{{ 'customer.addresses.company' | t }}</label>
          </div>
        </div>
        <div class="input-group">
          <input
            type="text"
            id="AddressAddress1_{{ form.id }}"
            class="peer"
            name="address[address1]"
            value="{{ form.address1 }}"
            autocomplete="address-line1"
            required
            placeholder=" "
          >
          <label for="AddressAddress1_{{ form.id }}">{{ 'customer.addresses.address1' | t }}</label>
        </div>
        <div class="input-group">
          <input
            type="text"
            id="AddressAddress2_{{ form.id }}"
            class="peer"
            name="address[address2]"
            value="{{ form.address2 }}"
            autocomplete="address-line2"
            placeholder=" "
          >
          <label for="AddressAddress2_{{ form.id }}">{{ 'customer.addresses.address2' | t }}</label>
        </div>
        <div class="input-group">
          <input
            type="text"
            id="AddressCity_{{ form.id }}"
            class="peer"
            name="address[city]"
            value="{{ form.city }}"
            autocomplete="address-level2"
            required
            placeholder=" "
          >
          <label for="AddressCity_{{ form.id }}">{{ 'customer.addresses.city' | t }}</label>
        </div>
        <div class="input-group">
          <label for="AddressCountry_{{ form.id }}">
            {{ 'customer.addresses.country' | t }}
          </label>
          <div class="select">
            <select
              id="AddressCountry_{{ form.id }}"
              class="!pb-2.5 !pr-8 !pt-5"
              name="address[country]"
              data-address-country-select
              data-default="{{ form.country }}"
              data-form-id="{{ form.id }}"
              autocomplete="country"
            >
              {{ all_country_option_tags }}
            </select>
          </div>
          <script type="application/json" class="form-alerts">
            {
              "error": "{{ 'customer.account.personal_data.select_country' | t }}"
            }
          </script>
          <div class="d-none mb-2" data-alert="status"></div>
        </div>
        <div class="input-group" id="AddressProvinceContainer_{{ form.id }}" style="display:none;">
          <label for="AddressProvince_{{ form.id }}">
            {{ 'customer.addresses.province' | t }}
          </label>
          <div class="select">
            <select
              id="AddressProvince_{{ form.id }}"
              class="!pb-2.5 !pr-8 !pt-5"
              name="address[province]"
              data-default="{{ form.province }}"
              autocomplete="address-level1"
            ></select>
          </div>
        </div>
        <div class="input-group">
          <input
            type="text"
            id="AddressZip_{{ form.id }}"
            class="peer"
            name="address[zip]"
            value="{{ form.zip }}"
            autocapitalize="characters"
            autocomplete="postal-code"
            required
            placeholder=" "
          >
          <label for="AddressZip_{{ form.id }}">{{ 'customer.addresses.zip' | t }}</label>
        </div>
        <div class="input-group">
          <input
            type="tel"
            id="AddressPhone_{{ form.id }}"
            class="peer"
            name="address[phone]"
            value="{{ form.phone }}"
            autocomplete="tel"
            required
            placeholder=" "
          >
          <label for="AddressPhone_{{ form.id }}">{{ 'customer.addresses.phone' | t }}</label>
        </div>
      </div>
      <div class="popupscreen-footer flex justify-end gap-4">
        <button type="reset" class="secondary">{{ 'customer.addresses.cancel' | t }}</button>
        <button>{{ 'customer.addresses.update' | t }}</button>
      </div>

      {% if localization.language.endonym_name != 'English' %}
        <input type="hidden" name="country_code" value="{{ localization.country.iso_code }}">
      {% else %}
        <input type="hidden" name="country_code" value="">
      {% endif %}
    {%- endform -%}
  </div>
</div>
